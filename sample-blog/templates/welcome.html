<!DOCTYPE html>
<html>
  <head>
    <title>Sample - Blog</title>

    <!-- Twitter Bootstrap -->
    <link 
      rel="stylesheet" 
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" 
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" 
      crossorigin="anonymous"/>
    <script 
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js" 
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" 
      crossorigin="anonymous">
    </script>
    <script 
      src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" 
      integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" 
      crossorigin="anonymous">
    </script>
    <script 
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" 
      integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" 
      crossorigin="anonymous">
    </script>

    <script 
      src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.8/angular.min.js">
    </script>

    <!-- Custom -->
    <link rel="stylesheet" href="/static/styles.css">
    <script src="/static/welcome.js"></script>
  </head>
  <body ng-app="sampleApp" ng-controller="sampleCtrl">
    <nav>
      <div class="row welcome-header">
          <section class="col-md-4">
            <h3 class="text-center nav-message">Blog Site</h3>
          </section>
          <section class="col-md-8">
            <ul class="top-nav-ul text-right">
              {% if logged_in %}
              <li><a title="Home" href="/">Home</a></li>
              <li><a title="Sign Out" href="/signout">Sign Out</a></li>
              {% else %}
              <li><a title="Log In" href="/login">Log In</a></li>
              <li><a title="Sign Up" href="/signup">Sign Up</a></li>
              {% endif %}
            </ul>
          </section>
        </div>
    </nav>

    <div class="container">
      <div class="row" ng-repeat="post in posts">
        <div class="col-md-12">
          <p>
            <strong>
              <a 
                title="(( post.owner.displayname ))"
                href="/users/(( post.owner_id ))">
                (( post.owner.displayname ))
              </a>
            </strong><br/>
            <small>(( post.owner.username ))</small>
          </p>
        </div>
        <div class="col-md-12">
          <h3>
            <a 
              title="(( post.title ))"
              href="/posts/(( post.id ))">
              (( post.title ))
            </a>
          </h3>
          <p>(( post.body ))</p>
          <section ng-if="!!post.tags.length">
            Tags: (( post.tags.length ))
            <ul class="tags-ul">
              <li ng-repeat="tag in post.tags">
                <span class="badge badge-pill badge-dark">(( tag ))</span>
              </li>
            </ul>
            <br/>
          </section>
          <p class="text-grey">
            <em>
              <small>
                (( post.date_created ))
              </small>
            </em>
          </p>
          <p class="text-grey">
            Likes: (( post.likes ))<br/>
            Comments: (( post.comments_count ))
          </p>
        </div>
        <div class="col-md-12">
          <hr/>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <p class="text-center" ng-if="!no_more_records">
            <button ng-disabled="is_loading" type="button" class="btn btn-primary"
              ng-click="load_posts()">Load More Posts</button>
          </p>
        </div>
      </div>
    </div>
  </body>
</html>